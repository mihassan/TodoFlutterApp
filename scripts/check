#!/usr/bin/env bash
set -euo pipefail

# Run format check, analysis, and tests.
ROOT="$(dirname "$0")/.."

echo "=== Checking formatting ==="
dart format --set-exit-if-changed "$ROOT"

echo "=== Running analysis ==="
cd "$ROOT/app"
flutter analyze

echo "=== Running tests ==="
flutter test
